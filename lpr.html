<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Taller - Estado en Tiempo Real</title>

  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

  <div id="nav-container"></div>

  <div class="dashboard-container">

    <h2 class="titulo-kanban">Estado del Taller</h2>

    <div id="kanban-container" class="kanban-grid"></div>

    <div class="kanban-footer">
      <span id="totalEnTaller"></span>
      <span id="ultimaActualizacion"></span>
      <button id="btn-ver-salidas" class="btn-nav">
        Vehículos que salieron
      </button>
    </div>

    <!-- MODAL VEHÍCULO -->
    <div id="modal-vehiculo" class="modal-vehiculo">
      <div class="modal-content">
        <span id="modal-close">&times;</span>

        <h3 id="modal-placa"></h3>
        <p><b>Estación actual:</b> <span id="modal-estacion"></span></p>
        <p><b>Tiempo en estación:</b> <span id="modal-tiempo-estacion"></span></p>
        <p><b>Tiempo total en taller:</b> <span id="modal-tiempo-total"></span></p>

        <h4>Historial</h4>
        <ul id="modal-historial"></ul>
      </div>
    </div>

    <!-- MODAL SALIDAS -->
    <div id="modal-salidas" class="modal-vehiculo">
      <div class="modal-content modal-grande">
        <span id="modal-salidas-close" class="modal-close">&times;</span>

        <h3>Vehículos que salieron</h3>

        <!-- Filtros -->
        <div class="filtros-modal">
          <input type="date" id="salidas-desde">
          <input type="date" id="salidas-hasta">
          <input type="text" id="salidas-placa" placeholder="Buscar placa">
          <button id="btn-filtrar-salidas" class="btn-modal">
            Filtrar
          </button>
        </div>

        <!-- Tabla -->
        <table class="tabla-modal">
          <thead>
            <tr>
              <th>Placa</th>
              <th>Entrada</th>
              <th>Salida</th>
              <th>Tiempo total</th>
            </tr>
          </thead>
          <tbody id="tabla-salidas"></tbody>
        </table>

        <!-- Paginación -->
        <div class="paginacion-modal">
          <button id="salidas-prev" class="btn-modal">Anterior</button>
          <span id="salidas-page-info"></span>
          <button id="salidas-next" class="btn-modal">Siguiente</button>
        </div>
      </div>
    </div>

  </div>

  <script src="js/auth.js"></script>
  <script src="js/nav.js"></script>
  <script src="js/lpr.js"></script>

</body>
</html>
